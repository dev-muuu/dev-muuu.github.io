---
layout: post
title: 'Ch 6. 기본적인 리팩토링'
categories: Book
tags: [Book, Book_Refactoring]
---

## 1. 함수 추출하기
---

함수 추출하기란, 코드 조각을 찾아 무슨 일을 하는지 파악한 다음, 독립된 함수로 추출 및 목적에 맞게 이름을 붙이는 것이다. 코드를 언제 독립된 함수로 묶어야 하는 지에 의문을 가질 수 있다. `길이`를 기준으로 삼을 수 있으며, `재사용성`을 기준으로 삼을 수도 있다. 필자가 생각하는 가장 효율적인 방법은 `목적과 구현을 분리`이다. 코드를 보고 무슨 일을 하는지 파악하는데 오랜 시간이 걸린다면, 그 부분을 함수로 추출한 뒤 **목적에 걸맞는 이름**을 지어주면 된다. 이때 목적에 걸맞는 이름이란, 어떻게 함수가 일을 수행하는지가 아닌, **`무엇을` 하는지**가 드러나도록 이름을 지어주어야 한다. 이 원칙을 적용하게 될 경우, 함수를 짧게 작성하게 될 것이다. 짧은 함수의 이점을 잘 발휘하기 위해서는 이름을 잘 지어야 한다. 이를 통해 코드를 나중에 다시 읽을 때, 함수의 목적이 눈에 바로 들어올 수 있게 될 것이다. 함수 추출에서 유용한 방법은 `중첩 함수`를 활용하는 것이다. 중첩 함수를 활용할 경우, **변수를 매개변수로 전달하지 않아도 되며, 사용 범위가 명확**하다는 장점이 있다.

## 2. 함수 인라인하기
---

`함수 인라인`이란, **메서드의 내용을 직접 삽입**하는 작업이다. 때로는 함수 본문이 함수의 이름보다 명확한 경우가 있다. 이 경우에는 함수를 제거하고 인라인해주는 것이 더 좋다. 간접 호출은 유용할 수도 있지만 쓸데없는 간접호출은 거슬리는 작업일 뿐이기 때문이다. 

- 함수 인라인 전

``` javascript
function getRating(driver){
    return moreThanFiveLateDeliveries(driver) ? 2 : 1;
}

function moreThanFiveLateDeliveries(driver) {
    return (driver.numberOfLateDeliveries > 5) ? 2 : 1;
}
```

- 함수 인라인 후

``` javascript
function getRating(driver){
    return (driver.numberOfLateDeliveries > 5) ? 2 : 1;
}
```

